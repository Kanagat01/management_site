# О сайте
Ссылка на сайт: http://skanagat101.pythonanywhere.com/ <br>
Ссылка на телеграм бота: <br>
Стек: bootstrap, django, django rest framework, mathplotlib, requests и aiogram <br>
<br>
Чтобы увидеть функционал сайта можно зайти под логином Skanagat101 и паролем kana2005, а в телеграм зарегистрироваться под кодом 214757 <br>
<br>
Сайт создан для просмотра оценок сотрудников о компании и их оценок о своих коллег. <br>
<br>
Как работает сайт? Начальник компании регистрируется на сайте вводя все нужные данные и входит в личный кабинет. <br>
<br>
Личный кабинет - это главная страница, где начальник может поменять свои данные, посмотреть количество зарегистрированных <br>
через телеграм бота сотрудников и посмотреть код, по которому могут зарегистрироваться сотрудники в телеграм. Код генерируется <br>
автоматически после регистрации. Также в главной странице есть кнопки обновить - для обновления измененных данных, кнопка выхода <br>
из аккаунта и кнопки для перехода на страницы сотрудники и результаты. <br>
<br>
На странице сотрудники можно было настроить обратную связь, то есть оценку о каком то сотруднике. Сперва начальник выбирает какого <br>
сотрудника нужно оценить, а затем выбирает его коллег, которые будут его оценивать и сколько раз в месяц нужно опросить данного коллегу. <br>
<br>
На странице результаты можно увидеть результаты оценок ввиде графика, в оси х отражается дата, а в оси у отражается оценка. <br>
Графики были построены с помощью библиотеки matplotlib. Сперва начальник выбирает сотрудника и видит его оценки о компании, а затем <br> 
выбирает другого сотрудника и его оценки о выбранном выше сотруднике. Эти оценки производятся в телеграм боте. <br>
<br>
Как работает телеграм бот? Сотрудник запускает бота и проходит небольшую регистрацию, где ему сначала нужно ввести код от компании и если <br>
такая компания существует, то вводит свое ФИО. После эти данные вместе с ником в телеграм и телеграм айди сохранются в бд. <br>
После ему будут доступны две кнопки, это изменить имя и изменить количество опросов в неделю (опросы о компании, к форме на сайте отношения <br>
не имеет). Также каждый день в 17:00 происходит проверка, если у человека есть отсавшиеся количество опросов, то они присылаются к нему. <br>
Это могут быть опросы о компании или о коллеге. Все данные изменяются и проверяются через rest api, которое написано на django rest framework. <br>
<br>
Как устроен api? Все достаточно просто, есть несколько классов представлений, список компаний для проверки есть ли такая компания(разрешены <br>
только get запросы), получение настроек опросов для проверки нужно ли опрашивать сотрудника о коллеге, для обновления и получения данных о <br>
сотруднике и 2 класса для добавления оценок о компании и о коллеге. <br>
<br>
## Для деплоя
Нужно будет в шаблоне по директории users/templates/users/results.html внутри тега scripts изменить ссылку base_url <br>
внутри telegram-bot start_bot.py и handlers.py тоже. <br>
Для того чтобы локально поднять сервер нужно зайти в папку где находится manage.py, т.е. основна папка проекта, написать python manage.py runserver. <br>
Чтобы установить все зависимости сперва желательно создать виртуальное окружение рядом с папкой проекта командой python -m venv <название_виртуального_окружения> <br>
Например, python -m venv myvenv, затем активировать его командой myvenv\scripts\acivate в windows, и source myvenv/bin/activate в mac/linux. <br>
Зайти в папку проекта, и написать pip install -r requirements.txt тогда установятся все зависимости. <br>
К базе данных, django подключается сама.
